2025-05-10 18:39:15,640 - INFO - Morning image path: /root/spotify-scripts/spotify-scripts/cover-change-test/images/morning.jpg
2025-05-10 18:39:15,641 - INFO - Day image path: /root/spotify-scripts/spotify-scripts/cover-change-test/images/day.jpg
2025-05-10 18:39:15,641 - INFO - Evening image path: /root/spotify-scripts/spotify-scripts/cover-change-test/images/evening.jpg
2025-05-10 18:39:15,641 - INFO - Night image path: /root/spotify-scripts/spotify-scripts/cover-change-test/images/night.jpg
2025-05-10 18:39:15,641 - INFO - Time offset: +1.0 hours (adjusting for BST/summer time)
2025-05-10 18:39:15,644 - INFO - 
==================================================
2025-05-10 18:39:15,644 - INFO - Starting Four-Phase Playlist Cover Changer
2025-05-10 18:39:15,644 - INFO - Target Playlist ID: 3njwORmiAzQ6xZEt70zBqV
2025-05-10 18:39:15,644 - INFO - Location: London (Latitude: 51.5074, Longitude: -0.1278)
2025-05-10 18:39:15,644 - INFO - Morning Duration: 3.0 hours after sunrise
2025-05-10 18:39:15,644 - INFO - Evening Duration: 2.0 hours before sunset
2025-05-10 18:39:15,644 - INFO - Time offset: +1.0 hours (adjusting for timezone differences)
2025-05-10 18:39:15,644 - INFO - This offset is likely compensating for BST (summer time) while server runs on UTC
2025-05-10 18:39:15,644 - INFO - ==================================================

2025-05-10 18:39:15,645 - INFO - Open this URL in your browser to authenticate with Spotify if needed:
https://accounts.spotify.com/authorize?client_id=1ac3defbf6f1439fb933f7709a94f615&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A8888%2Fcallback&scope=ugc-image-upload+playlist-modify-public+playlist-modify-private
2025-05-10 18:39:15,937 - INFO - Target Playlist: 'drylight' (owned by jacob stokes)
2025-05-10 18:39:16,491 - INFO - Applied time offset adjustment (+1.0 hours) to sunrise/sunset times
2025-05-10 18:39:16,491 - INFO - Today's sunrise in London: 05:13
2025-05-10 18:39:16,491 - INFO - Today's sunset in London: 20:40
2025-05-10 18:39:16,491 - INFO - Today's phase transition times:
2025-05-10 18:39:16,491 - INFO -   Morning: 05:13
2025-05-10 18:39:16,491 - INFO -   Day: 08:13
2025-05-10 18:39:16,491 - INFO -   Evening: 18:40
2025-05-10 18:39:16,491 - INFO -   Night: 20:40
2025-05-10 18:39:17,044 - INFO - Applied time offset adjustment (+1.0 hours) to sunrise/sunset times
2025-05-10 18:39:17,044 - INFO - Today's sunrise in London: 05:13
2025-05-10 18:39:17,044 - INFO - Today's sunset in London: 20:40
2025-05-10 18:39:17,044 - INFO - Current server time: 18:39:16
2025-05-10 18:39:17,044 - INFO - Phase times (adjusted for server timezone): Morning: 04:13:44, Day: 07:13:44, Evening: 17:40:06, Night: 19:40:06
2025-05-10 18:39:17,044 - INFO - Determined phase: EVENING
2025-05-10 18:39:17,045 - INFO - Current phase: evening
2025-05-10 18:39:17,045 - INFO - Changing to EVENING cover
2025-05-10 18:39:17,313 - INFO - Changing cover for playlist 'drylight' using /root/spotify-scripts/spotify-scripts/cover-change-test/images/evening.jpg
2025-05-10 18:39:17,314 - INFO - Image size: 165.92 KB
2025-05-10 18:39:17,315 - INFO - Successfully encoded image (base64 length: 226544, size: 221.23 KB)
2025-05-10 18:39:17,315 - INFO - Uploading cover image to Spotify...
2025-05-10 18:39:18,828 - INFO - Successfully updated cover image for playlist 'drylight'
2025-05-10 18:39:19,380 - INFO - Applied time offset adjustment (+1.0 hours) to sunrise/sunset times
2025-05-10 18:39:19,381 - INFO - Today's sunrise in London: 05:13
2025-05-10 18:39:19,381 - INFO - Today's sunset in London: 20:40
2025-05-10 18:39:19,381 - INFO - Saved state: evening
2025-05-10 18:39:19,933 - INFO - Applied time offset adjustment (+1.0 hours) to sunrise/sunset times
2025-05-10 18:39:19,933 - INFO - Today's sunrise in London: 05:13
2025-05-10 18:39:19,933 - INFO - Today's sunset in London: 20:40
2025-05-10 18:39:19,933 - INFO - Skipping scheduling morning cover change as time 05:13 has already passed
2025-05-10 18:39:19,933 - INFO - Skipping scheduling day cover change as time 08:13 has already passed
2025-05-10 18:39:19,933 - INFO - Scheduling evening cover change for 2025-05-10 18:40
2025-05-10 18:39:19,934 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-10 18:39:19,934 - INFO - Scheduling night cover change for 2025-05-10 20:40
2025-05-10 18:39:19,935 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-10 18:39:19,935 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-10 18:39:19,935 - INFO - Scheduled next calculation for: 2025-05-11 00:01
2025-05-10 18:39:19,935 - INFO - Starting scheduler
2025-05-10 18:39:19,936 - INFO - Added job "change_cover_job" to job store "default"
2025-05-10 18:39:19,936 - INFO - Added job "change_cover_job" to job store "default"
2025-05-10 18:39:19,936 - INFO - Added job "calculate_times_for_tomorrow" to job store "default"
2025-05-10 18:39:19,936 - INFO - Scheduler started
2025-05-10 18:39:19,937 - INFO - Scheduled jobs (3):
2025-05-10 18:39:19,937 - INFO -   Job ID: evening, Next run: 2025-05-10 18:40:06+00:00
2025-05-10 18:39:19,937 - INFO -   Job ID: night, Next run: 2025-05-10 20:40:06+00:00
2025-05-10 18:39:19,937 - INFO -   Job ID: recalculate, Next run: 2025-05-11 00:01:00+00:00
2025-05-10 18:40:06,014 - INFO - Running job "change_cover_job (trigger: date[2025-05-10 18:40:06 UTC], next run at: 2025-05-10 18:40:06 UTC)" (scheduled at 2025-05-10 18:40:06+00:00)
2025-05-10 18:40:06,016 - INFO - Removed job evening
2025-05-10 18:40:06,020 - INFO - Scheduled job running: change to evening cover
2025-05-10 18:40:06,021 - INFO - Changing to EVENING cover
2025-05-10 18:40:06,023 - INFO - Loaded state: evening (set at 2025-05-10T18:39:19.381450)
2025-05-10 18:40:06,024 - INFO - Already using evening cover, no change needed
2025-05-10 18:40:06,024 - INFO - Job "change_cover_job (trigger: date[2025-05-10 18:40:06 UTC], next run at: 2025-05-10 18:40:06 UTC)" executed successfully
2025-05-10 18:40:06,025 - INFO - Job executed successfully: evening, scheduled run time: Unknown
2025-05-10 19:10:37,532 - INFO - Morning image path: /root/spotify-scripts/spotify-scripts/cover-change-test/images/morning.jpg
2025-05-10 19:10:37,532 - INFO - Day image path: /root/spotify-scripts/spotify-scripts/cover-change-test/images/day.jpg
2025-05-10 19:10:37,533 - INFO - Evening image path: /root/spotify-scripts/spotify-scripts/cover-change-test/images/evening.jpg
2025-05-10 19:10:37,533 - INFO - Night image path: /root/spotify-scripts/spotify-scripts/cover-change-test/images/night.jpg
2025-05-10 19:10:37,533 - INFO - Time offset: +1.0 hours (adjusting for BST/summer time)
2025-05-10 19:10:37,536 - INFO - 
==================================================
2025-05-10 19:10:37,536 - INFO - Starting Four-Phase Playlist Cover Changer
2025-05-10 19:10:37,536 - INFO - Target Playlist ID: 3njwORmiAzQ6xZEt70zBqV
2025-05-10 19:10:37,536 - INFO - Location: London (Latitude: 51.5074, Longitude: -0.1278)
2025-05-10 19:10:37,536 - INFO - Morning Duration: 3.0 hours after sunrise
2025-05-10 19:10:37,537 - INFO - Evening Duration: 2.0 hours before sunset
2025-05-10 19:10:37,537 - INFO - Time offset: +1.0 hours (adjusting for timezone differences)
2025-05-10 19:10:37,537 - INFO - This offset is likely compensating for BST (summer time) while server runs on UTC
2025-05-10 19:10:37,537 - INFO - ==================================================

2025-05-10 19:10:37,537 - INFO - Open this URL in your browser to authenticate with Spotify if needed:
https://accounts.spotify.com/authorize?client_id=1ac3defbf6f1439fb933f7709a94f615&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A8888%2Fcallback&scope=ugc-image-upload+playlist-modify-public+playlist-modify-private
2025-05-10 19:10:37,871 - INFO - Target Playlist: 'drylight' (owned by jacob stokes)
2025-05-10 19:10:38,429 - INFO - Applied time offset adjustment (+1.0 hours) to sunrise/sunset times
2025-05-10 19:10:38,429 - INFO - Today's sunrise in London: 05:13
2025-05-10 19:10:38,429 - INFO - Today's sunset in London: 20:40
2025-05-10 19:10:38,430 - INFO - Today's phase transition times:
2025-05-10 19:10:38,430 - INFO -   Morning: 05:13
2025-05-10 19:10:38,430 - INFO -   Day: 08:13
2025-05-10 19:10:38,430 - INFO -   Evening: 18:40
2025-05-10 19:10:38,430 - INFO -   Night: 20:40
2025-05-10 19:10:38,986 - INFO - Applied time offset adjustment (+1.0 hours) to sunrise/sunset times
2025-05-10 19:10:38,986 - INFO - Today's sunrise in London: 05:13
2025-05-10 19:10:38,986 - INFO - Today's sunset in London: 20:40
2025-05-10 19:10:38,987 - INFO - Current server time: 19:10:38
2025-05-10 19:10:38,987 - INFO - Phase times (adjusted for server timezone): Morning: 04:13:44, Day: 07:13:44, Evening: 17:40:06, Night: 19:40:06
2025-05-10 19:10:38,987 - INFO - Determined phase: EVENING
2025-05-10 19:10:38,987 - INFO - Current phase: evening
2025-05-10 19:10:38,987 - INFO - Changing to EVENING cover
2025-05-10 19:10:39,203 - INFO - Changing cover for playlist 'drylight' using /root/spotify-scripts/spotify-scripts/cover-change-test/images/evening.jpg
2025-05-10 19:10:39,204 - INFO - Image size: 165.92 KB
2025-05-10 19:10:39,205 - INFO - Successfully encoded image (base64 length: 226544, size: 221.23 KB)
2025-05-10 19:10:39,205 - INFO - Uploading cover image to Spotify...
2025-05-10 19:10:41,222 - INFO - Successfully updated cover image for playlist 'drylight'
2025-05-10 19:10:41,775 - INFO - Applied time offset adjustment (+1.0 hours) to sunrise/sunset times
2025-05-10 19:10:41,775 - INFO - Today's sunrise in London: 05:13
2025-05-10 19:10:41,775 - INFO - Today's sunset in London: 20:40
2025-05-10 19:10:41,776 - INFO - Saved state: evening
2025-05-10 19:10:42,330 - INFO - Applied time offset adjustment (+1.0 hours) to sunrise/sunset times
2025-05-10 19:10:42,331 - INFO - Today's sunrise in London: 05:13
2025-05-10 19:10:42,331 - INFO - Today's sunset in London: 20:40
2025-05-10 19:10:42,331 - INFO - Skipping scheduling morning cover change as time 04:13 has already passed
2025-05-10 19:10:42,331 - INFO - Skipping scheduling day cover change as time 07:13 has already passed
2025-05-10 19:10:42,331 - INFO - Skipping scheduling evening cover change as time 17:40 has already passed
2025-05-10 19:10:42,331 - INFO - Scheduling night cover change for 2025-05-10 19:40 (server time)
2025-05-10 19:10:42,331 - INFO - This corresponds to 2025-05-10 20:40 in local time
2025-05-10 19:10:42,332 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-10 19:10:42,332 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-10 19:10:42,332 - INFO - Scheduled next calculation for: 2025-05-11 00:01
2025-05-10 19:10:42,332 - INFO - Starting scheduler
2025-05-10 19:10:42,334 - INFO - Added job "change_cover_job" to job store "default"
2025-05-10 19:10:42,334 - INFO - Added job "calculate_times_for_tomorrow" to job store "default"
2025-05-10 19:10:42,334 - INFO - Scheduler started
2025-05-10 19:10:42,335 - INFO - Scheduled jobs (2):
2025-05-10 19:10:42,335 - INFO -   Job ID: night, Next run: 2025-05-10 19:40:06+00:00
2025-05-10 19:10:42,335 - INFO -   Job ID: recalculate, Next run: 2025-05-11 00:01:00+00:00
2025-05-10 19:13:01,740 - INFO - Script terminated by user. Shutting down scheduler...
2025-05-10 19:13:01,757 - INFO - Scheduler has been shut down
2025-05-10 19:13:01,777 - INFO - Bye!
2025-05-10 19:13:24,371 - INFO - Script terminated by user. Shutting down scheduler...
2025-05-10 19:13:24,373 - INFO - Scheduler has been shut down
2025-05-10 19:13:24,374 - INFO - Bye!
2025-05-10 19:13:30,498 - INFO - Morning image path: /root/spotify-scripts/spotify-scripts/cover-change-test/images/morning.jpg
2025-05-10 19:13:30,498 - INFO - Day image path: /root/spotify-scripts/spotify-scripts/cover-change-test/images/day.jpg
2025-05-10 19:13:30,499 - INFO - Evening image path: /root/spotify-scripts/spotify-scripts/cover-change-test/images/evening.jpg
2025-05-10 19:13:30,499 - INFO - Night image path: /root/spotify-scripts/spotify-scripts/cover-change-test/images/night.jpg
2025-05-10 19:13:30,499 - INFO - Time offset: +1.0 hours (adjusting for BST/summer time)
2025-05-10 19:13:30,503 - INFO - 
==================================================
2025-05-10 19:13:30,503 - INFO - Starting Four-Phase Playlist Cover Changer
2025-05-10 19:13:30,503 - INFO - Target Playlist ID: 3njwORmiAzQ6xZEt70zBqV
2025-05-10 19:13:30,503 - INFO - Location: London (Latitude: 51.5074, Longitude: -0.1278)
2025-05-10 19:13:30,503 - INFO - Morning Duration: 3.0 hours after sunrise
2025-05-10 19:13:30,503 - INFO - Evening Duration: 2.0 hours before sunset
2025-05-10 19:13:30,503 - INFO - Time offset: +1.0 hours (adjusting for timezone differences)
2025-05-10 19:13:30,503 - INFO - This offset is likely compensating for BST (summer time) while server runs on UTC
2025-05-10 19:13:30,503 - INFO - ==================================================

2025-05-10 19:13:30,503 - INFO - Open this URL in your browser to authenticate with Spotify if needed:
https://accounts.spotify.com/authorize?client_id=1ac3defbf6f1439fb933f7709a94f615&response_type=code&redirect_uri=http%3A%2F%2Flocalhost%3A8888%2Fcallback&scope=ugc-image-upload+playlist-modify-public+playlist-modify-private
2025-05-10 19:13:30,834 - INFO - Target Playlist: 'drylight' (owned by jacob stokes)
2025-05-10 19:13:31,389 - INFO - Applied time offset adjustment (+1.0 hours) to sunrise/sunset times
2025-05-10 19:13:31,389 - INFO - Today's sunrise in London: 05:13
2025-05-10 19:13:31,389 - INFO - Today's sunset in London: 20:40
2025-05-10 19:13:31,390 - INFO - Today's phase transition times:
2025-05-10 19:13:31,390 - INFO -   Morning: 05:13
2025-05-10 19:13:31,390 - INFO -   Day: 08:13
2025-05-10 19:13:31,390 - INFO -   Evening: 18:40
2025-05-10 19:13:31,390 - INFO -   Night: 20:40
2025-05-10 19:13:31,943 - INFO - Applied time offset adjustment (+1.0 hours) to sunrise/sunset times
2025-05-10 19:13:31,943 - INFO - Today's sunrise in London: 05:13
2025-05-10 19:13:31,943 - INFO - Today's sunset in London: 20:40
2025-05-10 19:13:31,944 - INFO - Current server time: 19:13:31
2025-05-10 19:13:31,944 - INFO - Phase times (adjusted for server timezone): Morning: 04:13:44, Day: 07:13:44, Evening: 17:40:06, Night: 19:40:06
2025-05-10 19:13:31,944 - INFO - Determined phase: EVENING
2025-05-10 19:13:31,944 - INFO - Current phase: evening
2025-05-10 19:13:31,944 - INFO - Changing to EVENING cover
2025-05-10 19:13:31,944 - INFO - Loaded state: evening (set at 2025-05-10T19:10:41.775746)
2025-05-10 19:13:31,944 - INFO - Already using evening cover, no change needed
2025-05-10 19:13:32,496 - INFO - Applied time offset adjustment (+1.0 hours) to sunrise/sunset times
2025-05-10 19:13:32,497 - INFO - Today's sunrise in London: 05:13
2025-05-10 19:13:32,497 - INFO - Today's sunset in London: 20:40
2025-05-10 19:13:32,497 - INFO - Skipping scheduling morning cover change as time 04:13 has already passed
2025-05-10 19:13:32,497 - INFO - Skipping scheduling day cover change as time 07:13 has already passed
2025-05-10 19:13:32,497 - INFO - Skipping scheduling evening cover change as time 17:40 has already passed
2025-05-10 19:13:32,497 - INFO - Scheduling night cover change for 2025-05-10 19:40 (server time)
2025-05-10 19:13:32,497 - INFO - This corresponds to 2025-05-10 20:40 in local time
2025-05-10 19:13:32,498 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-10 19:13:32,499 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-05-10 19:13:32,499 - INFO - Scheduled next calculation for: 2025-05-11 00:01
2025-05-10 19:13:32,499 - INFO - Starting scheduler
2025-05-10 19:13:32,500 - INFO - Added job "change_cover_job" to job store "default"
2025-05-10 19:13:32,500 - INFO - Added job "calculate_times_for_tomorrow" to job store "default"
2025-05-10 19:13:32,500 - INFO - Scheduler started
2025-05-10 19:13:32,501 - INFO - Scheduled jobs (2):
2025-05-10 19:13:32,501 - INFO -   Job ID: night, Next run: 2025-05-10 19:40:06+00:00
2025-05-10 19:13:32,501 - INFO -   Job ID: recalculate, Next run: 2025-05-11 00:01:00+00:00
2025-05-10 19:40:06,011 - INFO - Running job "change_cover_job (trigger: date[2025-05-10 19:40:06 UTC], next run at: 2025-05-10 19:40:06 UTC)" (scheduled at 2025-05-10 19:40:06+00:00)
2025-05-10 19:40:06,013 - INFO - Removed job night
2025-05-10 19:40:06,014 - INFO - Scheduled job running: change to night cover
2025-05-10 19:40:06,014 - INFO - Changing to NIGHT cover
2025-05-10 19:40:06,015 - INFO - Loaded state: evening (set at 2025-05-10T19:10:41.775746)
2025-05-10 19:40:06,241 - INFO - Changing cover for playlist 'drylight' using /root/spotify-scripts/spotify-scripts/cover-change-test/images/night.jpg
2025-05-10 19:40:06,242 - INFO - Image size: 89.71 KB
2025-05-10 19:40:06,243 - INFO - Successfully encoded image (base64 length: 122480, size: 119.61 KB)
2025-05-10 19:40:06,243 - INFO - Uploading cover image to Spotify...
2025-05-10 19:40:06,322 - WARNING - Your application has reached a rate/request limit. Retry will occur after: None
2025-05-10 19:40:08,543 - INFO - Successfully updated cover image for playlist 'drylight'
2025-05-10 19:40:09,095 - INFO - Applied time offset adjustment (+1.0 hours) to sunrise/sunset times
2025-05-10 19:40:09,095 - INFO - Today's sunrise in London: 05:13
2025-05-10 19:40:09,095 - INFO - Today's sunset in London: 20:40
2025-05-10 19:40:09,096 - INFO - Saved state: night
2025-05-10 19:40:09,096 - INFO - Job "change_cover_job (trigger: date[2025-05-10 19:40:06 UTC], next run at: 2025-05-10 19:40:06 UTC)" executed successfully
2025-05-10 19:40:09,097 - INFO - Job executed successfully: night, scheduled run time: Unknown
